<div class="myCart-box">
  <div class="offer box">
    <div class="grid grid-cols-3 md:grid-cols-3 gap-4">

      <!-- First Column: Selected Items -->
      <div class="sel-items col-span-1">
        <div class="title">
          <h3>Selected Items</h3>
        </div>
        <div *ngFor="let category of cartData.products; let cIndex = index">
          <div *ngFor="let brandCategory of category; let bIndex = index">
            <div *ngFor="let product of brandCategory; let pIndex = index" class="p-box">
              <div class="img-box">
                <ng-container *ngIf="getPaintBrandKey(product) as paintKey">
                  <ng-container [ngSwitch]="paintKey">
                    <img *ngSwitchCase="'BERGER_PAINTS'" src="../../../assets/images/berger 5.png" alt="Berger" />
                    <img *ngSwitchCase="'ASIAN_PAINTS'" src="../../../assets/images/asian paints 1.png"
                      alt="Asian Paints" />
                    <img *ngSwitchCase="'JN_PAINTS'" src="../../../assets/images/jenson 1.png" alt="Jenson" />
                    <img *ngSwitchDefault src="../../../assets/images/default.png" alt="Default Image" />
                  </ng-container>
                </ng-container>
              </div>
              <div class="p-details">
                <h4>{{ product.JN_PAINTS || product.BERGER_PAINTS || product.ASIAN_PAINTS }}</h4>
                <div
                  *ngFor="let detail of product.JN_details || product.BERGER_details || product.ASIAN_details; let dIndex = index">
                  <h4>{{ detail.pack }}</h4>
                  <p>₹{{ detail.price || 'N/A' }}</p>
                  <label>Quantity:
                    <!-- <input type="number" [(ngModel)]="detail.quantity" min="1" max="100" /> -->
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Second Column: Compare Brands -->
      <div class="brand-item col-span-1">
        <div class="content">
          <div class="flex justify-center h-[100px] pt-[20px]">
            <details class="dropdown dropdown-end">
              <summary role="button" style="height: 40px; min-height: 40px" class="btn m-1 dd px-[20px]">
                Compared by Brands
                <svg viewBox="0 0 1024 1024" class="icon absolute right-[7px] h-[15px]" version="1.1"
                  xmlns="http://www.w3.org/2000/svg" fill="#000000">
                  <path d="M903.232 256l56.768 50.432L512 768 64 306.432 120.768 256 512 659.072z" fill="#000000">
                  </path>
                </svg>
              </summary>
              <ul class="dropdown-content menu bg-white rounded-box z-[1] w-52 p-2 shadow ul-box">
                <li><a>Asian Paints</a></li>
                <li><a>Berger</a></li>
                <li><a>Jenson & Nicholson</a></li>
                <li><a>Sheenlac</a></li>
              </ul>
            </details>
          </div>
          <div class="p-box">
            <div class="hover-me">
              <p>Switch</p>
            </div>
            <div class="img-box">
              <img src="../../../assets/images/asian paints 1.png" alt="Asian Paints" />
            </div>
            <div class="p-details">
              <h4>Apex Ultima</h4>
              <div class="flex items-center gap-[5px] font-[600] text-[20px]">
                <p>₹5,999</p>
                <span style="text-decoration: line-through" class="text-gray-400 text-[16px]">₹4,999</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Third Column: My Cart -->
      <div class="sel-items col-span-1">
        <div class="title">
          <h3>My Cart ({{cartLength}})</h3>
        </div>
        <div *ngFor="let category of cartData.products; let cIndex = index">
          <div *ngFor="let brandCategory of category; let bIndex = index">
            <div *ngFor="let product of brandCategory; let pIndex = index" class="p-box">
              <div class="img-box">
                <ng-container *ngIf="getPaintBrandKey(product) as paintKey">
                  <ng-container [ngSwitch]="paintKey">
                    <img *ngSwitchCase="'BERGER_PAINTS'" src="../../../assets/images/berger 5.png" alt="Berger" />
                    <img *ngSwitchCase="'ASIAN_PAINTS'" src="../../../assets/images/asian paints 1.png"
                      alt="Asian Paints" />
                    <img *ngSwitchCase="'JN_PAINTS'" src="../../../assets/images/jenson 1.png" alt="Jenson" />
                    <img *ngSwitchDefault src="../../../assets/images/default.png" alt="Default Image" />
                  </ng-container>
                </ng-container>
              </div>
              <div class="p-details">
                <h4>{{ product.JN_PAINTS || product.BERGER_PAINTS || product.ASIAN_PAINTS }}</h4>
                <div
                  *ngFor="let detail of product.JN_details || product.BERGER_details || product.ASIAN_details; let dIndex = index">
                  <h4>{{ detail.pack }}</h4>
                  <p>₹{{ detail.price || 'N/A' }}</p>
                  <label>Quantity:
                    <!-- <input type="number" [(ngModel)]="detail.quantity" min="1" max="100" /> -->
                  </label>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div> <!-- End of sep-2 -->

    <div class="total">
      <h2>Total: ₹{{ total.toFixed(2) || 0 }}</h2>
    </div>
  </div> <!-- End of offer -->
</div> <!-- End of myCart-box -->

<div class="h-[80px] flex w-full items-center justify-end pr-[20px]">
  <button (click)="cartCreation()" style="margin: 0; width: auto" class="bttn">
    Submit
  </button>
</div>